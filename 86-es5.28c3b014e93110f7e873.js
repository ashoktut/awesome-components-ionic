function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{"z+fX":function(e,t,n){"use strict";n.r(t),n.d(t,"ChatPageModule",(function(){return v}));var i,o=n("ofXK"),a=n("3Pt+"),r=n("TEn/"),s=n("fXoL"),c=((i=function e(){_classCallCheck(this,e)}).\u0275mod=s.Ob({type:i}),i.\u0275inj=s.Nb({factory:function(e){return new(e||i)},imports:[[o.c,a.g,r.nb,a.o]]}),i),b=n("tyNb"),l=n("mrSG");function p(e,t){if(1&e&&(s.Wb(0,"div"),s.Rb(1,"img",11),s.Wb(2,"div",12),s.Rb(3,"div",13),s.Wb(4,"div",14),s.Wb(5,"span",15),s.Mc(6),s.Vb(),s.Mc(7,", "),s.Wb(8,"span"),s.Mc(9),s.jc(10,"lowercase"),s.jc(11,"date"),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e){var n=s.ic().$implicit,i=s.ic();s.Cb(1),s.oc("src",i.toUser.pic,s.Ec),s.Cb(2),s.oc("innerHTML",n.text,s.Dc),s.Cb(3),s.Nc(i.toUser.username),s.Cb(3),s.Nc(s.kc(10,4,s.lc(11,6,n.date,"ago")))}}function u(e,t){if(1&e&&(s.Wb(0,"div"),s.Rb(1,"img",16),s.Wb(2,"div",17),s.Rb(3,"div",13),s.Wb(4,"div",14),s.Wb(5,"span",15),s.Mc(6),s.Vb(),s.Mc(7,", "),s.Wb(8,"span"),s.Mc(9),s.jc(10,"lowercase"),s.jc(11,"date"),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e){var n=s.ic().$implicit,i=s.ic();s.Cb(1),s.oc("src",i.user.pic,s.Ec),s.Cb(2),s.oc("innerHTML",n.text,s.Dc),s.Cb(3),s.Nc(i.user.username),s.Cb(3),s.Nc(s.kc(10,4,s.lc(11,6,n.date,"ago")))}}function m(e,t){if(1&e&&(s.Wb(0,"div",8),s.Kc(1,p,12,9,"div",9),s.Kc(2,u,12,9,"div",9),s.Rb(3,"div",10),s.Vb()),2&e){var n=t.$implicit,i=s.ic();s.Cb(1),s.oc("ngIf",i.user._id!==n.userId),s.Cb(1),s.oc("ngIf",i.user._id===n.userId)}}var g,d=((g=function(){function e(t,n){_classCallCheck(this,e),this.formBuilder=t,this.modalCtrl=n,this.toUser={_id:"534b8e5aaa5e7afc1b23e69b",pic:"assets/yannbf/img/avatar/ian-avatar.png",username:"Venkman"},this.user={_id:"534b8fb2aa5e7afc1b23e69c",pic:"assets/yannbf/img/avatar/marty-avatar.png",username:"Marty"},this.doneLoading=!1,this.messages=[{_id:1,date:new Date,userId:this.user._id,username:this.user.username,pic:this.user.pic,text:"OH CRAP!!"},{_id:2,date:new Date,userId:this.toUser._id,username:this.toUser.username,pic:this.toUser.pic,text:"what??"},{_id:3,date:new Date,userId:this.toUser._id,username:this.toUser.username,pic:this.toUser.pic,text:"Pretty long message with lots of content"},{_id:4,date:new Date,userId:this.user._id,username:this.user.username,pic:this.user.pic,text:"Pretty long message with even way more of lots and lots of content"},{_id:5,date:new Date,userId:this.user._id,username:this.user.username,pic:this.user.pic,text:"what??"},{_id:6,date:new Date,userId:this.toUser._id,username:this.toUser.username,pic:this.toUser.pic,text:"yes!"}],this.messageForm=t.group({message:new a.c("")}),this.chatBox=""}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"send",value:function(e){var t=this;if(e&&""!==e){var n={toId:this.toUser._id,_id:6,date:new Date,userId:this.user._id,username:this.toUser.username,pic:this.toUser.pic,text:e};this.messages.push(n),this.scrollToBottom(),setTimeout((function(){var e={toId:t.toUser._id,_id:6,date:new Date,userId:t.toUser._id,username:t.toUser.username,pic:t.toUser.pic,text:"Just a quick reply"};t.messages.push(e),t.scrollToBottom()}),1e3)}this.chatBox=""}},{key:"scrollToBottom",value:function(){var e=this;setTimeout((function(){e.content.scrollToBottom()}),100)}},{key:"close",value:function(){this.modalCtrl.dismiss()}}]),e}()).\u0275fac=function(e){return new(e||g)(s.Qb(a.b),s.Qb(r.rb))},g.\u0275cmp=s.Kb({type:g,selectors:[["app-messages"]],viewQuery:function(e,t){var n;1&e&&s.Hc(r.u,!0),2&e&&s.yc(n=s.fc())&&(t.content=n.first)},decls:15,vars:4,consts:[["slot","start"],["slot","icon-only","fill","clear",3,"click"],["name","arrow-back"],["class","message-wrapper",4,"ngFor","ngForOf"],["novalidate","",3,"formGroup","submit"],["formControlName","message",3,"ngModel","placeholder","ngModelChange"],["fill","clear","slot","end",3,"click"],["name","send",1,"footer-btn"],[1,"message-wrapper"],[4,"ngIf"],[1,"cf"],["onerror","onProfilePicError(this)",1,"profile-pic","left",3,"src"],[1,"chat-bubble","left","slide-left"],["autolinker","",1,"message",3,"innerHTML"],[1,"message-detail"],[1,"bold"],["onerror","onProfilePicError(this)",1,"profile-pic","right",3,"src"],[1,"chat-bubble","right","slide-right"]],template:function(e,t){1&e&&(s.Wb(0,"ion-header"),s.Wb(1,"ion-toolbar"),s.Wb(2,"ion-buttons",0),s.Wb(3,"ion-button",1),s.ec("click",(function(){return t.close()})),s.Rb(4,"ion-icon",2),s.Vb(),s.Vb(),s.Wb(5,"ion-title"),s.Mc(6,"Chat"),s.Vb(),s.Vb(),s.Vb(),s.Wb(7,"ion-content"),s.Kc(8,m,4,2,"div",3),s.Vb(),s.Wb(9,"ion-footer"),s.Wb(10,"form",4),s.ec("submit",(function(){return t.send(t.chatBox)})),s.Wb(11,"ion-item"),s.Wb(12,"ion-input",5),s.ec("ngModelChange",(function(e){return t.chatBox=e})),s.Vb(),s.Wb(13,"ion-button",6),s.ec("click",(function(){return t.send(t.chatBox)})),s.Rb(14,"ion-icon",7),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e&&(s.Cb(8),s.oc("ngForOf",t.messages),s.Cb(2),s.oc("formGroup",t.messageForm),s.Cb(2),s.qc("placeholder","Send ",t.toUser.username," a message..."),s.oc("ngModel",t.chatBox))},directives:[r.z,r.mb,r.l,r.k,r.A,r.kb,r.u,o.n,r.x,a.q,a.l,a.f,r.D,r.C,r.yb,a.k,a.e,o.o],pipes:[o.l,o.f],styles:['@charset "UTF-8";.bar-footer[_ngcontent-%COMP%]{overflow:visible!important}.bar-footer[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none;height:25px}button.ion-android-send[_ngcontent-%COMP%]{padding-top:2px}.footer-btn[_ngcontent-%COMP%]{font-size:x-large}img.profile-pic[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;position:absolute;bottom:10px}img.profile-pic.left[_ngcontent-%COMP%]{left:10px}img.profile-pic.right[_ngcontent-%COMP%]{right:10px}.ion-email[_ngcontent-%COMP%]{float:right;font-size:32px;vertical-align:middle}.message[_ngcontent-%COMP%]{font-size:14px}.message-detail[_ngcontent-%COMP%]{white-space:nowrap;font-size:14px}.bar.item-input-inset[_ngcontent-%COMP%]   .item-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%!important}.message-wrapper[_ngcontent-%COMP%]{position:relative}.message-wrapper[_ngcontent-%COMP%]:last-child{margin-bottom:10px}.chat-bubble[_ngcontent-%COMP%]{border-radius:5px;display:inline-block;padding:10px 18px;position:relative;margin:10px;max-width:80%}.chat-bubble[_ngcontent-%COMP%]:before{content:"\xa0";display:block;height:16px;width:9px;position:absolute;bottom:-7.5px}.chat-bubble.left[_ngcontent-%COMP%]{background-color:#e6e5eb;float:left;margin-left:55px}.chat-bubble.left[_ngcontent-%COMP%]:before{background-color:#e6e5eb;left:10px;-webkit-transform:rotate(70deg) skew(5deg)}.chat-bubble.right[_ngcontent-%COMP%]{background-color:#158ffe;color:#fff;float:right;margin-right:55px}.chat-bubble.right[_ngcontent-%COMP%]:before{background-color:#158ffe;right:10px;-webkit-transform:rotate(118deg) skew(-5deg)}.chat-bubble.right[_ngcontent-%COMP%]   a.autolinker[_ngcontent-%COMP%]{color:#fff;font-weight:700}.user-messages-top-icon[_ngcontent-%COMP%]{font-size:28px;right:5px}.msg-header-username[_ngcontent-%COMP%], .user-messages-top-icon[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;position:relative;top:-3px}.item-input[_ngcontent-%COMP%], .item-input-wrapper[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{background-color:#f4f4f4!important}.bold[_ngcontent-%COMP%]{font-weight:700}.cf[_ngcontent-%COMP%]{clear:both!important}a.autolinker[_ngcontent-%COMP%]{color:#3b88c3;text-decoration:none}.loader-center[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-content:stretch;align-items:center}.loader[_ngcontent-%COMP%]   .ion-loading-c[_ngcontent-%COMP%]{font-size:64px}']}),g);function f(e,t){if(1&e){var n=s.Xb();s.Wb(0,"ion-item",6),s.ec("click",(function(){s.Cc(n);var e=t.$implicit;return s.ic().viewMessages(e)})),s.Wb(1,"ion-avatar",0),s.Rb(2,"img",7),s.Vb(),s.Wb(3,"ion-label"),s.Wb(4,"h2"),s.Mc(5),s.Vb(),s.Wb(6,"p"),s.Mc(7),s.Vb(),s.Vb(),s.Wb(8,"ion-note",5),s.Mc(9),s.jc(10,"lowercase"),s.jc(11,"date"),s.Vb(),s.Vb()}if(2&e){var i=t.$implicit;s.Cb(2),s.oc("src",i.imageUrl,s.Ec),s.Cb(3),s.Nc(i.title),s.Cb(2),s.Nc(i.lastMessage),s.Cb(2),s.Nc(s.kc(10,4,s.lc(11,6,i.timestamp,"hh:mm a")))}}var h,M,C=[{path:"",component:(h=function(){function e(t){_classCallCheck(this,e),this.modalCtrl=t,this.chats=[{imageUrl:"assets/yannbf/img/avatar/marty-avatar.png",title:"McFly",lastMessage:"Hey, what happened yesterday?",timestamp:new Date},{imageUrl:"assets/yannbf/img/avatar/ian-avatar.png",title:"Venkman",lastMessage:"Sup, dude",timestamp:new Date},{imageUrl:"assets/yannbf/img/avatar/sarah-avatar.jpg",title:"Sarah Mcconnor",lastMessage:"You still ow me that pizza.",timestamp:new Date}]}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"viewMessages",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:d,componentProps:{chatId:e.id}});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}}]),e}(),h.\u0275fac=function(e){return new(e||h)(s.Qb(r.rb))},h.\u0275cmp=s.Kb({type:h,selectors:[["app-chat"]],decls:60,vars:1,consts:[["slot","start"],["defaultHref","/"],[1,"chats"],[3,"click",4,"ngFor","ngForOf"],["src","assets/yannbf/img/avatar/marty-avatar.png"],["slot","end"],[3,"click"],[3,"src"]],template:function(e,t){1&e&&(s.Wb(0,"ion-header"),s.Wb(1,"ion-toolbar"),s.Wb(2,"ion-buttons",0),s.Rb(3,"ion-back-button",1),s.Vb(),s.Wb(4,"ion-title"),s.Mc(5,"Messages"),s.Vb(),s.Vb(),s.Vb(),s.Wb(6,"ion-content",2),s.Wb(7,"ion-list"),s.Wb(8,"ion-list-header"),s.Wb(9,"ion-label"),s.Mc(10,"Today"),s.Vb(),s.Vb(),s.Kc(11,f,12,9,"ion-item",3),s.Vb(),s.Wb(12,"ion-list"),s.Wb(13,"ion-list-header"),s.Wb(14,"ion-label"),s.Mc(15,"Yesterday"),s.Vb(),s.Vb(),s.Wb(16,"ion-item"),s.Wb(17,"ion-avatar",0),s.Rb(18,"img",4),s.Vb(),s.Wb(19,"ion-label"),s.Wb(20,"h2"),s.Mc(21,"McFly"),s.Vb(),s.Wb(22,"p"),s.Mc(23,"Lorem ipsum dolor sit amet.."),s.Vb(),s.Vb(),s.Wb(24,"ion-note",5),s.Mc(25,"11:11 pm"),s.Vb(),s.Vb(),s.Wb(26,"ion-item"),s.Wb(27,"ion-avatar",0),s.Rb(28,"img",4),s.Vb(),s.Wb(29,"ion-label"),s.Wb(30,"h2"),s.Mc(31,"McFly"),s.Vb(),s.Wb(32,"p"),s.Mc(33,"Lorem ipsum dolor sit amet.."),s.Vb(),s.Vb(),s.Wb(34,"ion-note",5),s.Mc(35,"11:11 pm"),s.Vb(),s.Vb(),s.Wb(36,"ion-item"),s.Wb(37,"ion-avatar",0),s.Rb(38,"img",4),s.Vb(),s.Wb(39,"ion-label"),s.Wb(40,"h2"),s.Mc(41,"McFly"),s.Vb(),s.Wb(42,"p"),s.Mc(43,"Lorem ipsum dolor sit amet.."),s.Vb(),s.Vb(),s.Wb(44,"ion-note",5),s.Mc(45,"11:11 pm"),s.Vb(),s.Vb(),s.Vb(),s.Wb(46,"ion-list"),s.Wb(47,"ion-list-header"),s.Wb(48,"ion-label"),s.Mc(49,"Last Week"),s.Vb(),s.Vb(),s.Wb(50,"ion-item"),s.Wb(51,"ion-avatar",0),s.Rb(52,"img",4),s.Vb(),s.Wb(53,"ion-label"),s.Wb(54,"h2"),s.Mc(55,"McFly"),s.Vb(),s.Wb(56,"p"),s.Mc(57,"Lorem ipsum dolor sit amet.."),s.Vb(),s.Vb(),s.Wb(58,"ion-note",5),s.Mc(59,"11:11 pm"),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e&&(s.Cb(11),s.oc("ngForOf",t.chats))},directives:[r.z,r.mb,r.l,r.h,r.i,r.kb,r.u,r.K,r.L,r.J,o.n,r.D,r.g,r.P],pipes:[o.l,o.f],styles:["ion-note[_ngcontent-%COMP%]{font-size:12px;align-self:flex-start;margin-top:14px}"]}),h)}],v=((M=function e(){_classCallCheck(this,e)}).\u0275mod=s.Ob({type:M}),M.\u0275inj=s.Nb({factory:function(e){return new(e||M)},imports:[[o.c,a.g,r.nb,b.j.forChild(C),c]]}),M)}}]);