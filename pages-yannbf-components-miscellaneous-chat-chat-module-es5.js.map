{"version":3,"sources":["webpack:///src/app/pages/yannbf/components/miscellaneous/chat/chat.module.ts","webpack:///src/app/pages/yannbf/components/miscellaneous/chat/chat.page.html","webpack:///src/app/pages/yannbf/components/miscellaneous/chat/chat.page.ts","webpack:///src/app/pages/yannbf/components/miscellaneous/chat/messages/messages.module.ts","webpack:///src/app/pages/yannbf/components/miscellaneous/chat/messages/messages.page.ts","webpack:///src/app/pages/yannbf/components/miscellaneous/chat/messages/messages.page.html"],"names":["routes","path","component","ChatPageModule","forChild","imports","declarations","ChatPage","modalCtrl","chats","imageUrl","title","lastMessage","timestamp","Date","chat","create","componentProps","chatId","id","modal","present","selector","templateUrl","styleUrls","MessagesPageModule","entryComponents","MessagesPage","formBuilder","toUser","_id","pic","username","user","doneLoading","messages","date","userId","text","messageForm","group","message","chatBox","messageData","toId","push","scrollToBottom","setTimeout","replyData","content","dismiss","close","send"],"mappings":"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","file":"pages-yannbf-components-miscellaneous-chat-chat-module-es5.js","sourcesContent":["import { MessagesPageModule } from './messages/messages.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ChatPage } from './chat.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ChatPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    MessagesPageModule\r\n  ],\r\n  declarations: [ChatPage]\r\n})\r\nexport class ChatPageModule {}\r\n","<ion-header>\r\n  <ion-toolbar>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"/\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>Messages</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"chats\">\r\n  <ion-list>\r\n    <ion-list-header>\r\n\r\n      <ion-label>Today</ion-label>\r\n\r\n    </ion-list-header>\r\n    <ion-item *ngFor=\"let chat of chats\" (click)=\"viewMessages(chat)\">\r\n      <ion-avatar slot=\"start\">\r\n        <img [src]=\"chat.imageUrl\">\r\n      </ion-avatar>\r\n      <ion-label>\r\n        <h2>{{chat.title}}</h2>\r\n        <p>{{chat.lastMessage}}</p>\r\n      </ion-label>\r\n      <ion-note slot=\"end\">{{chat.timestamp | date:\"hh:mm a\" | lowercase}}</ion-note>\r\n    </ion-item>\r\n  </ion-list>\r\n  <ion-list>\r\n    <ion-list-header>\r\n      <ion-label>Yesterday</ion-label>\r\n    </ion-list-header>\r\n    <ion-item>\r\n      <ion-avatar slot=\"start\">\r\n        <img src=\"assets/yannbf/img/avatar/marty-avatar.png\">\r\n      </ion-avatar>\r\n      <ion-label>\r\n        <h2>McFly</h2>\r\n        <p>Lorem ipsum dolor sit amet..</p>\r\n      </ion-label>\r\n      <ion-note slot=\"end\">11:11 pm</ion-note>\r\n    </ion-item>\r\n    <ion-item>\r\n      <ion-avatar slot=\"start\">\r\n        <img src=\"assets/yannbf/img/avatar/marty-avatar.png\">\r\n      </ion-avatar>\r\n      <ion-label>\r\n        <h2>McFly</h2>\r\n        <p>Lorem ipsum dolor sit amet..</p>\r\n      </ion-label>\r\n      <ion-note slot=\"end\">11:11 pm</ion-note>\r\n    </ion-item>\r\n    <ion-item>\r\n      <ion-avatar slot=\"start\">\r\n        <img src=\"assets/yannbf/img/avatar/marty-avatar.png\">\r\n      </ion-avatar>\r\n      <ion-label>\r\n        <h2>McFly</h2>\r\n        <p>Lorem ipsum dolor sit amet..</p>\r\n      </ion-label>\r\n      <ion-note slot=\"end\">11:11 pm</ion-note>\r\n    </ion-item>\r\n  </ion-list>\r\n  <ion-list>\r\n    <ion-list-header>\r\n\r\n      <ion-label>Last Week</ion-label>\r\n\r\n    </ion-list-header>\r\n    <ion-item>\r\n      <ion-avatar slot=\"start\">\r\n        <img src=\"assets/yannbf/img/avatar/marty-avatar.png\">\r\n      </ion-avatar>\r\n      <ion-label>\r\n        <h2>McFly</h2>\r\n        <p>Lorem ipsum dolor sit amet..</p>\r\n      </ion-label>\r\n      <ion-note slot=\"end\">11:11 pm</ion-note>\r\n    </ion-item>\r\n  </ion-list>\r\n</ion-content>","import { Component, OnInit } from '@angular/core';\r\nimport { NavController, ModalController } from '@ionic/angular';\r\nimport { MessagesPage } from './messages/messages.page';\r\n\r\n@Component({\r\n  selector: 'app-chat',\r\n  templateUrl: './chat.page.html',\r\n  styleUrls: ['./chat.page.scss'],\r\n})\r\nexport class ChatPage implements OnInit {\r\n  chats = [{\r\n    imageUrl: 'assets/yannbf/img/avatar/marty-avatar.png',\r\n    title: 'McFly',\r\n    lastMessage: 'Hey, what happened yesterday?',\r\n    timestamp: new Date()\r\n  },\r\n  {\r\n    imageUrl: 'assets/yannbf/img/avatar/ian-avatar.png',\r\n    title: 'Venkman',\r\n    lastMessage: 'Sup, dude',\r\n    timestamp: new Date()\r\n  }\r\n    ,\r\n  {\r\n    imageUrl: 'assets/yannbf/img/avatar/sarah-avatar.jpg',\r\n    title: 'Sarah Mcconnor',\r\n    lastMessage: 'You still ow me that pizza.',\r\n    timestamp: new Date()\r\n  }];\r\n  constructor(private modalCtrl: ModalController) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  //  Open modal messages\r\n  async viewMessages(chat) {\r\n    const modal = await this.modalCtrl.create({\r\n      component: MessagesPage,\r\n      componentProps: {\r\n        chatId: chat.id,\r\n      }\r\n    });\r\n    await modal.present();\r\n\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { MessagesPage } from './messages.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [MessagesPage],\r\n  entryComponents: [MessagesPage]\r\n})\r\nexport class MessagesPageModule { }\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormControl, FormBuilder } from '@angular/forms';\r\nimport { IonContent, ModalController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-messages',\r\n  templateUrl: './messages.page.html',\r\n  styleUrls: ['./messages.page.scss'],\r\n})\r\nexport class MessagesPage implements OnInit {\r\n\r\n  toUser = {\r\n    _id: '534b8e5aaa5e7afc1b23e69b',\r\n    pic: 'assets/yannbf/img/avatar/ian-avatar.png',\r\n    username: 'Venkman',\r\n  };\r\n\r\n  user = {\r\n    _id: '534b8fb2aa5e7afc1b23e69c',\r\n    pic: 'assets/yannbf/img/avatar/marty-avatar.png',\r\n    username: 'Marty',\r\n  };\r\n\r\n  doneLoading = false;\r\n\r\n  messages = [\r\n    {\r\n      _id: 1,\r\n      date: new Date(),\r\n      userId: this.user._id,\r\n      username: this.user.username,\r\n      pic: this.user.pic,\r\n      text: 'OH CRAP!!'\r\n    },\r\n    {\r\n      _id: 2,\r\n      date: new Date(),\r\n      userId: this.toUser._id,\r\n      username: this.toUser.username,\r\n      pic: this.toUser.pic,\r\n      text: 'what??'\r\n    },\r\n    {\r\n      _id: 3,\r\n      date: new Date(),\r\n      userId: this.toUser._id,\r\n      username: this.toUser.username,\r\n      pic: this.toUser.pic,\r\n      text: 'Pretty long message with lots of content'\r\n    },\r\n    {\r\n      _id: 4,\r\n      date: new Date(),\r\n      userId: this.user._id,\r\n      username: this.user.username,\r\n      pic: this.user.pic,\r\n      text: 'Pretty long message with even way more of lots and lots of content'\r\n    },\r\n    {\r\n      _id: 5,\r\n      date: new Date(),\r\n      userId: this.user._id,\r\n      username: this.user.username,\r\n      pic: this.user.pic,\r\n      text: 'what??'\r\n    },\r\n    {\r\n      _id: 6,\r\n      date: new Date(),\r\n      userId: this.toUser._id,\r\n      username: this.toUser.username,\r\n      pic: this.toUser.pic,\r\n      text: 'yes!'\r\n    }\r\n  ];\r\n\r\n  @ViewChild(IonContent, { static: true }) content: IonContent;\r\n\r\n  public messageForm: any;\r\n  chatBox: any;\r\n\r\n\r\n  constructor(public formBuilder: FormBuilder, private modalCtrl: ModalController) {\r\n\r\n    this.messageForm = formBuilder.group({\r\n      message: new FormControl('')\r\n    });\r\n    this.chatBox = '';\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  send(message) {\r\n    if (message && message !== '') {\r\n      // this.messageService.sendMessage(chatId, message);\r\n\r\n      const messageData =\r\n      {\r\n        toId: this.toUser._id,\r\n        _id: 6,\r\n        date: new Date(),\r\n        userId: this.user._id,\r\n        username: this.toUser.username,\r\n        pic: this.toUser.pic,\r\n        text: message\r\n      };\r\n\r\n      this.messages.push(messageData);\r\n      this.scrollToBottom();\r\n\r\n      setTimeout(() => {\r\n        const replyData =\r\n        {\r\n          toId: this.toUser._id,\r\n          _id: 6,\r\n          date: new Date(),\r\n          userId: this.toUser._id,\r\n          username: this.toUser.username,\r\n          pic: this.toUser.pic,\r\n          text: 'Just a quick reply'\r\n        };\r\n        this.messages.push(replyData);\r\n        this.scrollToBottom();\r\n      }, 1000);\r\n    }\r\n    this.chatBox = '';\r\n  }\r\n\r\n  scrollToBottom() {\r\n    setTimeout(() => {\r\n      this.content.scrollToBottom();\r\n    }, 100);\r\n  }\r\n\r\n  close() {\r\n    this.modalCtrl.dismiss();\r\n  }\r\n\r\n\r\n}\r\n","<ion-header>\r\n  <ion-toolbar>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-button slot=\"icon-only\" (click)=\"close()\" fill=\"clear\">\r\n        <ion-icon name=\"arrow-back\"></ion-icon>\r\n      </ion-button>\r\n    </ion-buttons>\r\n    <ion-title>Chat</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content>\r\n  <div *ngFor=\"let message of messages\" class=\"message-wrapper\">\r\n    <div *ngIf=\"user._id !== message.userId\">\r\n      <img class=\"profile-pic left\" [src]=\"toUser.pic\" onerror=\"onProfilePicError(this)\" />\r\n      <!--  wave-->\r\n      <div class=\"chat-bubble left slide-left\">\r\n\r\n        <div class=\"message\" [innerHTML]=\"message.text\" autolinker>\r\n        </div>\r\n\r\n        <div class=\"message-detail\">\r\n          <span class=\"bold\">{{toUser.username}}</span>,\r\n          <span>{{message.date | date:\"ago\" | lowercase}}</span>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"user._id === message.userId\">\r\n\r\n      <img class=\"profile-pic right\" [src]=\"user.pic\" onerror=\"onProfilePicError(this)\" />\r\n\r\n      <div class=\"chat-bubble right slide-right\">\r\n\r\n        <div class=\"message\" [innerHTML]=\"message.text\" autolinker>\r\n        </div>\r\n\r\n        <div class=\"message-detail\">\r\n          <span class=\"bold\">{{user.username}}</span>,\r\n          <span>{{message.date | date:\"ago\" | lowercase}}</span>\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"cf\"></div>\r\n\r\n  </div>\r\n</ion-content>\r\n<ion-footer>\r\n  <form [formGroup]=\"messageForm\" (submit)=\"send(chatBox)\" novalidate>\r\n    <ion-item>\r\n      <ion-input formControlName=\"message\" [(ngModel)]=\"chatBox\" placeholder=\"Send {{toUser.username}} a message...\">\r\n      </ion-input>\r\n      <ion-button fill=\"clear\" (click)=\"send(chatBox)\" slot=\"end\">\r\n        <ion-icon class=\"footer-btn\" name=\"send\"></ion-icon>\r\n      </ion-button>\r\n    </ion-item>\r\n  </form>\r\n</ion-footer>"]}