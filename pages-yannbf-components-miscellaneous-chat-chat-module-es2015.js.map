{"version":3,"sources":["./src/app/pages/yannbf/components/miscellaneous/chat/chat.module.ts","./src/app/pages/yannbf/components/miscellaneous/chat/chat.page.ts","./src/app/pages/yannbf/components/miscellaneous/chat/chat.page.html","./src/app/pages/yannbf/components/miscellaneous/chat/messages/messages.module.ts","./src/app/pages/yannbf/components/miscellaneous/chat/messages/messages.page.ts","./src/app/pages/yannbf/components/miscellaneous/chat/messages/messages.page.html"],"names":[],"mappings":"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","file":"pages-yannbf-components-miscellaneous-chat-chat-module-es2015.js","sourcesContent":["import { MessagesPageModule } from './messages/messages.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ChatPage } from './chat.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ChatPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    MessagesPageModule\r\n  ],\r\n  declarations: [ChatPage]\r\n})\r\nexport class ChatPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { NavController, ModalController } from '@ionic/angular';\r\nimport { MessagesPage } from './messages/messages.page';\r\n\r\n@Component({\r\n  selector: 'app-chat',\r\n  templateUrl: './chat.page.html',\r\n  styleUrls: ['./chat.page.scss'],\r\n})\r\nexport class ChatPage implements OnInit {\r\n  chats = [{\r\n    imageUrl: 'assets/yannbf/img/avatar/marty-avatar.png',\r\n    title: 'McFly',\r\n    lastMessage: 'Hey, what happened yesterday?',\r\n    timestamp: new Date()\r\n  },\r\n  {\r\n    imageUrl: 'assets/yannbf/img/avatar/ian-avatar.png',\r\n    title: 'Venkman',\r\n    lastMessage: 'Sup, dude',\r\n    timestamp: new Date()\r\n  }\r\n    ,\r\n  {\r\n    imageUrl: 'assets/yannbf/img/avatar/sarah-avatar.jpg',\r\n    title: 'Sarah Mcconnor',\r\n    lastMessage: 'You still ow me that pizza.',\r\n    timestamp: new Date()\r\n  }];\r\n  constructor(private modalCtrl: ModalController) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  //  Open modal messages\r\n  async viewMessages(chat) {\r\n    const modal = await this.modalCtrl.create({\r\n      component: MessagesPage,\r\n      componentProps: {\r\n        chatId: chat.id,\r\n      }\r\n    });\r\n    await modal.present();\r\n\r\n  }\r\n\r\n}\r\n","<ion-header>\r\n  <ion-toolbar>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"/\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>Messages</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"chats\">\r\n  <ion-list>\r\n    <ion-list-header>\r\n\r\n      <ion-label>Today</ion-label>\r\n\r\n    </ion-list-header>\r\n    <ion-item *ngFor=\"let chat of chats\" (click)=\"viewMessages(chat)\">\r\n      <ion-avatar slot=\"start\">\r\n        <img [src]=\"chat.imageUrl\">\r\n      </ion-avatar>\r\n      <ion-label>\r\n        <h2>{{chat.title}}</h2>\r\n        <p>{{chat.lastMessage}}</p>\r\n      </ion-label>\r\n      <ion-note slot=\"end\">{{chat.timestamp | date:\"hh:mm a\" | lowercase}}</ion-note>\r\n    </ion-item>\r\n  </ion-list>\r\n  <ion-list>\r\n    <ion-list-header>\r\n      <ion-label>Yesterday</ion-label>\r\n    </ion-list-header>\r\n    <ion-item>\r\n      <ion-avatar slot=\"start\">\r\n        <img src=\"assets/yannbf/img/avatar/marty-avatar.png\">\r\n      </ion-avatar>\r\n      <ion-label>\r\n        <h2>McFly</h2>\r\n        <p>Lorem ipsum dolor sit amet..</p>\r\n      </ion-label>\r\n      <ion-note slot=\"end\">11:11 pm</ion-note>\r\n    </ion-item>\r\n    <ion-item>\r\n      <ion-avatar slot=\"start\">\r\n        <img src=\"assets/yannbf/img/avatar/marty-avatar.png\">\r\n      </ion-avatar>\r\n      <ion-label>\r\n        <h2>McFly</h2>\r\n        <p>Lorem ipsum dolor sit amet..</p>\r\n      </ion-label>\r\n      <ion-note slot=\"end\">11:11 pm</ion-note>\r\n    </ion-item>\r\n    <ion-item>\r\n      <ion-avatar slot=\"start\">\r\n        <img src=\"assets/yannbf/img/avatar/marty-avatar.png\">\r\n      </ion-avatar>\r\n      <ion-label>\r\n        <h2>McFly</h2>\r\n        <p>Lorem ipsum dolor sit amet..</p>\r\n      </ion-label>\r\n      <ion-note slot=\"end\">11:11 pm</ion-note>\r\n    </ion-item>\r\n  </ion-list>\r\n  <ion-list>\r\n    <ion-list-header>\r\n\r\n      <ion-label>Last Week</ion-label>\r\n\r\n    </ion-list-header>\r\n    <ion-item>\r\n      <ion-avatar slot=\"start\">\r\n        <img src=\"assets/yannbf/img/avatar/marty-avatar.png\">\r\n      </ion-avatar>\r\n      <ion-label>\r\n        <h2>McFly</h2>\r\n        <p>Lorem ipsum dolor sit amet..</p>\r\n      </ion-label>\r\n      <ion-note slot=\"end\">11:11 pm</ion-note>\r\n    </ion-item>\r\n  </ion-list>\r\n</ion-content>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { MessagesPage } from './messages.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [MessagesPage],\r\n  entryComponents: [MessagesPage]\r\n})\r\nexport class MessagesPageModule { }\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormControl, FormBuilder } from '@angular/forms';\r\nimport { IonContent, ModalController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-messages',\r\n  templateUrl: './messages.page.html',\r\n  styleUrls: ['./messages.page.scss'],\r\n})\r\nexport class MessagesPage implements OnInit {\r\n\r\n  toUser = {\r\n    _id: '534b8e5aaa5e7afc1b23e69b',\r\n    pic: 'assets/yannbf/img/avatar/ian-avatar.png',\r\n    username: 'Venkman',\r\n  };\r\n\r\n  user = {\r\n    _id: '534b8fb2aa5e7afc1b23e69c',\r\n    pic: 'assets/yannbf/img/avatar/marty-avatar.png',\r\n    username: 'Marty',\r\n  };\r\n\r\n  doneLoading = false;\r\n\r\n  messages = [\r\n    {\r\n      _id: 1,\r\n      date: new Date(),\r\n      userId: this.user._id,\r\n      username: this.user.username,\r\n      pic: this.user.pic,\r\n      text: 'OH CRAP!!'\r\n    },\r\n    {\r\n      _id: 2,\r\n      date: new Date(),\r\n      userId: this.toUser._id,\r\n      username: this.toUser.username,\r\n      pic: this.toUser.pic,\r\n      text: 'what??'\r\n    },\r\n    {\r\n      _id: 3,\r\n      date: new Date(),\r\n      userId: this.toUser._id,\r\n      username: this.toUser.username,\r\n      pic: this.toUser.pic,\r\n      text: 'Pretty long message with lots of content'\r\n    },\r\n    {\r\n      _id: 4,\r\n      date: new Date(),\r\n      userId: this.user._id,\r\n      username: this.user.username,\r\n      pic: this.user.pic,\r\n      text: 'Pretty long message with even way more of lots and lots of content'\r\n    },\r\n    {\r\n      _id: 5,\r\n      date: new Date(),\r\n      userId: this.user._id,\r\n      username: this.user.username,\r\n      pic: this.user.pic,\r\n      text: 'what??'\r\n    },\r\n    {\r\n      _id: 6,\r\n      date: new Date(),\r\n      userId: this.toUser._id,\r\n      username: this.toUser.username,\r\n      pic: this.toUser.pic,\r\n      text: 'yes!'\r\n    }\r\n  ];\r\n\r\n  @ViewChild(IonContent, { static: true }) content: IonContent;\r\n\r\n  public messageForm: any;\r\n  chatBox: any;\r\n\r\n\r\n  constructor(public formBuilder: FormBuilder, private modalCtrl: ModalController) {\r\n\r\n    this.messageForm = formBuilder.group({\r\n      message: new FormControl('')\r\n    });\r\n    this.chatBox = '';\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  send(message) {\r\n    if (message && message !== '') {\r\n      // this.messageService.sendMessage(chatId, message);\r\n\r\n      const messageData =\r\n      {\r\n        toId: this.toUser._id,\r\n        _id: 6,\r\n        date: new Date(),\r\n        userId: this.user._id,\r\n        username: this.toUser.username,\r\n        pic: this.toUser.pic,\r\n        text: message\r\n      };\r\n\r\n      this.messages.push(messageData);\r\n      this.scrollToBottom();\r\n\r\n      setTimeout(() => {\r\n        const replyData =\r\n        {\r\n          toId: this.toUser._id,\r\n          _id: 6,\r\n          date: new Date(),\r\n          userId: this.toUser._id,\r\n          username: this.toUser.username,\r\n          pic: this.toUser.pic,\r\n          text: 'Just a quick reply'\r\n        };\r\n        this.messages.push(replyData);\r\n        this.scrollToBottom();\r\n      }, 1000);\r\n    }\r\n    this.chatBox = '';\r\n  }\r\n\r\n  scrollToBottom() {\r\n    setTimeout(() => {\r\n      this.content.scrollToBottom();\r\n    }, 100);\r\n  }\r\n\r\n  close() {\r\n    this.modalCtrl.dismiss();\r\n  }\r\n\r\n\r\n}\r\n","<ion-header>\r\n  <ion-toolbar>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-button slot=\"icon-only\" (click)=\"close()\" fill=\"clear\">\r\n        <ion-icon name=\"arrow-back\"></ion-icon>\r\n      </ion-button>\r\n    </ion-buttons>\r\n    <ion-title>Chat</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content>\r\n  <div *ngFor=\"let message of messages\" class=\"message-wrapper\">\r\n    <div *ngIf=\"user._id !== message.userId\">\r\n      <img class=\"profile-pic left\" [src]=\"toUser.pic\" onerror=\"onProfilePicError(this)\" />\r\n      <!--  wave-->\r\n      <div class=\"chat-bubble left slide-left\">\r\n\r\n        <div class=\"message\" [innerHTML]=\"message.text\" autolinker>\r\n        </div>\r\n\r\n        <div class=\"message-detail\">\r\n          <span class=\"bold\">{{toUser.username}}</span>,\r\n          <span>{{message.date | date:\"ago\" | lowercase}}</span>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"user._id === message.userId\">\r\n\r\n      <img class=\"profile-pic right\" [src]=\"user.pic\" onerror=\"onProfilePicError(this)\" />\r\n\r\n      <div class=\"chat-bubble right slide-right\">\r\n\r\n        <div class=\"message\" [innerHTML]=\"message.text\" autolinker>\r\n        </div>\r\n\r\n        <div class=\"message-detail\">\r\n          <span class=\"bold\">{{user.username}}</span>,\r\n          <span>{{message.date | date:\"ago\" | lowercase}}</span>\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"cf\"></div>\r\n\r\n  </div>\r\n</ion-content>\r\n<ion-footer>\r\n  <form [formGroup]=\"messageForm\" (submit)=\"send(chatBox)\" novalidate>\r\n    <ion-item>\r\n      <ion-input formControlName=\"message\" [(ngModel)]=\"chatBox\" placeholder=\"Send {{toUser.username}} a message...\">\r\n      </ion-input>\r\n      <ion-button fill=\"clear\" (click)=\"send(chatBox)\" slot=\"end\">\r\n        <ion-icon class=\"footer-btn\" name=\"send\"></ion-icon>\r\n      </ion-button>\r\n    </ion-item>\r\n  </form>\r\n</ion-footer>"],"sourceRoot":"webpack:///"}