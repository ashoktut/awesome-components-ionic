function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{wAJi:function(e,t,s){"use strict";s.r(t),s.d(t,"TouchSwipePageModule",(function(){return v}));var i,n,r,o,a=s("ofXK"),u=s("3Pt+"),l=s("TEn/"),p=s("tyNb"),c=s("mrSG"),h=s("fXoL"),d=((i=function(){function e(t,s){_classCallCheck(this,e),this.gestureCtrl=t,this.el=s,this.debugMode=!1,this.tap=new h.o,this.doubleTap=new h.o,this.press=new h.o,this.swipe=new h.o,this.swipeEnd=new h.o,this.tapGesture={name:"tap",enabled:!1,interval:250},this.doubleTapGesture={name:"doubleTap",enabled:!1,interval:300},this.pressGesture={name:"press",enabled:!1,interval:251},this.swipeGesture={name:"swipe",enabled:!1,interval:250,threshold:15,reportInterval:void 0,direction:["right","left"]},this.DIRECTIVE_GESTURES=[this.tapGesture,this.doubleTapGesture,this.pressGesture,this.swipeGesture],this.GESTURE_CREATED=!1,this.lastTap=0,this.tapCount=0,this.tapTimeout=null,this.pressTimeout=null,this.isPressing=!1,this.moveTimeout=null,this.isMoving=!1,this.lastSwipeReport=null}return _createClass(e,[{key:"ngOnInit",value:function(){this.initSetupGestures()}},{key:"onPress",value:function(e){this.pressGesture.enabled&&this.handlePressing(e.type)}},{key:"handleTaps",value:function(e){var t=this,s=Math.floor(e.timeStamp),i=this.lastTap+this.tapGesture.interval>s;if(!this.tapGesture.enabled&&!this.doubleTapGesture.enabled||this.isPressing||this.isMoving)return this.resetTaps();this.tapCount++,i&&this.doubleTapGesture.enabled?this.emitTaps():i||(this.tapTimeout=setTimeout((function(){return t.emitTaps()}),this.tapGesture.interval)),this.lastTap=s}},{key:"initSetupGestures",value:function(){var e=this;this.DIRECTIVE_GESTURES.filter((function(t){e.gestureOpts.find((function(s){t.name===s.name&&(t.enabled=!0,"swipe"===t.name?(e.swipeGesture.reportInterval=s.reportInterval||t.reportInterval,e.swipeGesture.direction=s.direction||t.direction,e.createGesture()):(t.interval=s.interval||t.interval,t.threshold=s.threshold||t.threshold))}))}))}},{key:"handleMoving",value:function(e,t){null!==this.moveTimeout&&(clearTimeout(this.moveTimeout),this.moveTimeout=null);var s=t.deltaX,i=t.deltaY,n=Math.abs(s),r=Math.abs(i),o=this.swipeGesture.reportInterval||"live",a=this.swipeGesture.threshold;if(!(n<a&&r<a)){var u=this.isMoving&&("start"===o&&null===this.lastSwipeReport||"live"===o||"end"===o&&"moveend"===e);if(this.lastSwipeReport=t.timeStamp,u){var l=Object.assign({dirX:void 0,dirY:void 0,swipeType:e},t);n>a&&(s>0?l.dirX="right":s<0&&(l.dirX="left")),r>a&&(i>0?l.dirY="down":i<0&&(l.dirY="up"));var p=this.swipeGesture.direction;(p.includes(l.dirX)||p.includes(l.dirY))&&(this.debugMode&&console.log("Swipe"),this.swipe.emit(l))}"moveend"===e&&null!==this.lastSwipeReport&&(this.isMoving=!1,this.lastSwipeReport=null,this.swipeEnd.emit())}}},{key:"handlePressing",value:function(e){var t=this;"touchstart"===e?this.pressTimeout=setTimeout((function(){t.isPressing=!0,t.debugMode&&console.log("PressStart"),t.press.emit("start")}),this.pressGesture.interval):"touchend"===e&&(clearTimeout(this.pressTimeout),this.isPressing&&(this.debugMode&&console.log("PressEnd"),this.press.emit("end"),this.resetTaps()),setTimeout((function(){return t.isPressing=!1}),150))}},{key:"createGesture",value:function(){var e=this;this.GESTURE_CREATED||(this.gestureCtrl.create({gestureName:"socialGesture",el:this.el.nativeElement,onStart:function(){e.swipeGesture.enabled&&(e.isMoving=!0,e.moveTimeout=setInterval((function(){e.isMoving=!1}),249))},onMove:function(t){e.swipeGesture.enabled&&e.handleMoving("moving",t)},onEnd:function(t){e.swipeGesture.enabled&&e.handleMoving("moveend",t)}},!0).enable(),this.GESTURE_CREATED=!0)}},{key:"emitTaps",value:function(){1===this.tapCount&&this.tapGesture.enabled?(this.debugMode&&console.log("1 Tap "),this.tap.emit()):2===this.tapCount&&this.doubleTapGesture.enabled&&(this.debugMode&&console.log("2 Tap"),this.doubleTap.emit()),this.resetTaps()}},{key:"resetTaps",value:function(){clearTimeout(this.tapTimeout),this.tapCount=0,this.tapTimeout=null,this.lastTap=0}}]),e}()).\u0275fac=function(e){return new(e||i)(h.Qb(l.e),h.Qb(h.l))},i.\u0275dir=h.Lb({type:i,selectors:[["","appSocialGestures",""]],hostBindings:function(e,t){1&e&&h.ec("touchstart",(function(e){return t.onPress(e)}))("touchend",(function(e){return t.onPress(e)}))("click",(function(e){return t.handleTaps(e)}))},inputs:{gestureOpts:"gestureOpts",debugMode:"debugMode"},outputs:{tap:"tap",doubleTap:"doubleTap",press:"press",swipe:"swipe",swipeEnd:"swipeEnd"}}),i),b=[{path:"",component:(n=function(){function e(t){_classCallCheck(this,e),this.toastController=t,this.gestureOptsTap=[{name:"tap"},{name:"doubleTap"}],this.gestureOptsPress=[{name:"press",interval:1500}],this.gestureOptsSwipe=[{name:"swipe",direction:["left","right"]}],this.direction=null}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onTap",value:function(){this.presentToast("Tap")}},{key:"onDoubleTap",value:function(){this.presentToast("DoubleTap")}},{key:"onPress",value:function(){this.presentToast("Long Press 1.5s")}},{key:"onSwipe",value:function(e){this.direction=e.dirX}},{key:"onMoveed",value:function(){this.presentToast("Swipe End "+this.direction)}},{key:"presentToast",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastController.create({message:e,duration:500});case 2:t.sent.present();case 3:case"end":return t.stop()}}),t,this)})))}}]),e}(),n.\u0275fac=function(e){return new(e||n)(h.Qb(l.zb))},n.\u0275cmp=h.Kb({type:n,selectors:[["app-touch-swipe"]],decls:25,vars:3,consts:[["slot","start"],["defaultHref","/gestures"],["color","primary","appSocialGestures","","debugMode","true",3,"gestureOpts","tap","doubleTap"],["color","secondary","appSocialGestures","","debugMode","true",3,"gestureOpts","press"],["color","tertiary","appSocialGestures","","debugMode","true",3,"gestureOpts","swipe","swipeEnd"]],template:function(e,t){1&e&&(h.Wb(0,"ion-header"),h.Wb(1,"ion-toolbar"),h.Wb(2,"ion-buttons",0),h.Rb(3,"ion-back-button",1),h.Vb(),h.Wb(4,"ion-title"),h.Mc(5,"Touch Swipe"),h.Vb(),h.Vb(),h.Vb(),h.Wb(6,"ion-content"),h.Wb(7,"ion-card",2),h.ec("tap",(function(){return t.onTap()}))("doubleTap",(function(){return t.onDoubleTap()})),h.Wb(8,"ion-card-header"),h.Wb(9,"ion-card-subtitle"),h.Mc(10,"Exemple 01"),h.Vb(),h.Wb(11,"ion-card-title"),h.Mc(12,"Tap and DoubleTap"),h.Vb(),h.Vb(),h.Vb(),h.Wb(13,"ion-card",3),h.ec("press",(function(){return t.onPress()})),h.Wb(14,"ion-card-header"),h.Wb(15,"ion-card-subtitle"),h.Mc(16,"Exemple 02"),h.Vb(),h.Wb(17,"ion-card-title"),h.Mc(18,"LongPress after 1.5 seconds"),h.Vb(),h.Vb(),h.Vb(),h.Wb(19,"ion-card",4),h.ec("swipe",(function(e){return t.onSwipe(e)}))("swipeEnd",(function(){return t.onMoveed()})),h.Wb(20,"ion-card-header"),h.Wb(21,"ion-card-subtitle"),h.Mc(22,"Exemple 03"),h.Vb(),h.Wb(23,"ion-card-title"),h.Mc(24,"Swipe Lefth Right"),h.Vb(),h.Vb(),h.Vb(),h.Vb()),2&e&&(h.Cb(7),h.oc("gestureOpts",t.gestureOptsTap),h.Cb(6),h.oc("gestureOpts",t.gestureOptsPress),h.Cb(6),h.oc("gestureOpts",t.gestureOptsSwipe))},directives:[l.z,l.mb,l.l,l.h,l.i,l.kb,l.u,l.m,d,l.o,l.p,l.q],styles:[""]}),n)}],f=((o=function e(){_classCallCheck(this,e)}).\u0275mod=h.Ob({type:o}),o.\u0275inj=h.Nb({factory:function(e){return new(e||o)},imports:[[p.j.forChild(b)],p.j]}),o),v=((r=function e(){_classCallCheck(this,e)}).\u0275mod=h.Ob({type:r}),r.\u0275inj=h.Nb({factory:function(e){return new(e||r)},imports:[[a.c,u.g,l.nb,f]]}),r)}}]);